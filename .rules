# Better Actions Project Rules for AI Agents

## Logging
- Always use the custom logger from `github.com/drornir/better-actions/pkg/log` instead of logrus or other logging libraries
- Extract logger from context once per function: `logger := log.FromContext(ctx)`
- Never use `context.Background()` - always pass and use proper context
- Never use `log.Fatal()` - return proper errors instead
- Error messages should start with lowercase letters (e.g., "failed to parse" not "Failed to parse")

## Error Handling
- Use package "github.com/samber/oops" for all error handling
- Replace all Fatal calls with proper error returns
- Methods that previously used Fatal should return `(result, error)` instead of just `result`
- Prefer returning errors over logging and continuing execution

## Context Usage
- Always accept `context.Context` as the first parameter in functions that do I/O, logging, or long-running operations
- Pass context through the call chain - never create new background contexts
- Use context for cancellation, timeouts, and carrying request-scoped values
- Logger and Oopser should be extract like this: `oopser := oops.FromContext(ctx); logger := log.FromContext(ctx)`

## Code Style
- Follow standard Go conventions
- Use structured logging with key-value pairs when beneficial
- Keep functions focused and avoid side effects when possible
- Prefer explicit error handling over implicit behavior

## Dependencies
- Use the project's custom logger: `github.com/drornir/better-actions/pkg/log`
- Use `github.com/samber/oops` for enhanced error context when appropriate
- Avoid adding new external logging dependencies
